## EC2 

### **EC2란**

- Elastic Compute Cloud의 약자이며, AWS에서 제공하는 클라우딩 컴퓨팅 서비스이다.
- AWS는 인스턴스를 만들기 위해서 AMI(Amazon Machine Images)이라는 이미지를 제공한다.
- 인스턴스 타입은 세대 별로 차이점이 있다.
  - M5는 범용 인스턴스, C5는 컴퓨팅에 특화, R5 세대는 메모리에 특화되는 타입 등등
- AWS CloudWatch와 연동해 간단한 모니터링을 할 수 있다.
  - CPU 사용, Disk 평균 Read/Write, Disk Read/Write 카운트 등

### EC2**의 장점**

- 탄력적으로 운용이 가능하다.
  - 몇 분내에 용량을 늘리거나 줄일 수 있으며, 오토스케일링 등을 통해 가용성을 유지할 수 있다.
- 온프레미스 환경과 달리 사용한 만큼만 지불하므로 상대적으로 저렴하다.
- 사용자가 인스턴스를 완전히 제어할 수 있다.

### **요금 지불 방식**

- 온디맨드 인스턴스 - 초 단위로 사용한 인스턴스에 대한 요금을 지불하는 방식
  - 인스턴스를 단기간 중단 없이 사용해야 하거나, 향후 사용량을 예측할 수 없을 때 유용
- Savings Plans - 1년 또는 3년 기간 동안 시간당 USD로 일관된 사용량을 약정하는 방식
  - 향후 사용량이 예측 가능한 애플리케이션의 경우 SP를 사용하면 최대 75%까지 할인 가능
- 예약 인스턴스 - 1년 또는 3년 기간 동안 인스턴스 유형 또는 지역을 포함해 특정 인스턴스 구성을 약정하는 방식
- 스팟 인스턴스 - 미사용 EC2 인스턴스를 요청하여 온디맨드 대비 70 ~ 90%의 요금 절약 가능
  - 다만, 언제든지 중단될 수 있다는 치명적인 단점이 있다.

## **EC2 실습 (21. 3. 23 기준)**

### 1단계

- 사용하고자 하는 AMI를 선택한다. 프리티어를 사용하면 무료로 사용할 수 있다

  <img width="1218" alt="스크린샷 2021-03-23 오후 8 05 01" src="https://user-images.githubusercontent.com/19471818/112138205-914e6280-8c14-11eb-8f96-c39328a17ede.png">

### 2단계

- 인스턴스 유형을 선택한다. 역시 프리티어에서 사용 가능한 인스턴스들이 있다. 대신 cpu 개수나 메모리가 매우 적어서 프로덕션 용으로는 쓸 수 없다.

  <img width="1224" alt="스크린샷 2021-03-23 오후 8 05 52" src="https://user-images.githubusercontent.com/19471818/112138270-aa571380-8c14-11eb-970c-6c2605f225b2.png">

### 3단계

- 인스턴스 구성, 스토리지, 태그 설정은 세부적으로 들어가면 설정할 것이 많지만 우선 기본 값을 따른다.
- 보안 그룹에서는 보안과 관련된 것들을 설정하며 Default는 SSH로 설정되어 있다. 보안을 위해서는 접근 가능한 IP를 지정해주는 것이 좋다.

<img width="1225" alt="스크린샷 2021-03-23 오후 8 10 23" src="https://user-images.githubusercontent.com/19471818/112138299-b642d580-8c14-11eb-88b7-27d470990bfa.png">

### 4단계

- 마지막으로 키 페어를 생성한 후 다운로드 받고 인스턴스 시작을 누르면 인스턴스가 생성된다. 

- 생성된 키 페어는 재발급 해주지 않으며, 보안과 직결되기 때문에 매우 신중히 관리해야 한다.

  <img width="1227" alt="스크린샷 2021-03-23 오후 8 11 45" src="https://user-images.githubusercontent.com/19471818/112138339-bf33a700-8c14-11eb-86d2-498705f6c900.png">

## **출처**

- [Amazon EC2이란 무엇입니까?](https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/concepts.html)
- https://www.joinc.co.kr/w/Site/cloud/AWS/EC2